(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(21)},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(9),o=n.n(l),s=n(1),c=n(3),i=n(4),m=n(6),u=n(5),h=n(7),p=n(10),d=(n(18),function(e){var t=e.id,n=e.name,a=e.sex,l=e.born,o=e.died,s=e.age,c=e.father,i=e.mother,m=e.children,u=Math.ceil(o/100),h=m.map(function(e){return e.name}),p={},d=["person","person--lived-in-".concat(u)];return"f"===a&&(d.push("person--female"),0!==h.length&&d.push(" person--mother")),"m"===a&&(d.push("person--male"),0!==h.length&&d.push(" person--father")),s>65&&d.push("person--lived-more-65y"),l<1650&&(p.textDecoration="line-through"),o>1800&&(p.fontWeight="bold"),r.a.createElement("tr",{className:d.join(" ")},r.a.createElement("td",null,t+1),r.a.createElement("td",{style:p},n),r.a.createElement("td",null,a),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,s),r.a.createElement("td",null,i),r.a.createElement("td",null,c),r.a.createElement("td",null,u),r.a.createElement("td",null,h.join(", ")))});d.defaultProps={sex:"",father:"",mother:"",children:[]};var f=d,b=(n(19),[]),E="id",w=function(e){var t=e.people,n=e.sortStatus,a=e.updateAppState;b=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===e.length)return[];switch(typeof e[0][t]){case"number":case"boolean":n=function(e,n){return a*(e[t]-n[t])};break;case"string":n=function(e,n){return a*e[t].localeCompare(n[t])};break;default:n=function(e,t){return 0}}return Object(p.a)(e).sort(n)}(t,E,n);var l=function(e){E=e.target.textContent.toLowerCase(),a({sortStatus:-n})},o="";return r.a.createElement("table",{className:"peopleTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:l,className:"cursorPointer"},"Id"),r.a.createElement("th",{onClick:l,className:"cursorPointer"},"Name"),r.a.createElement("th",null,"Sex"),r.a.createElement("th",{onClick:l,className:"cursorPointer"},"Born"),r.a.createElement("th",{onClick:l,className:"cursorPointer"},"Died"),r.a.createElement("th",{onClick:l,className:"cursorPointer"},"Age"),r.a.createElement("th",null,"Mother"),r.a.createElement("th",null,"Father"),r.a.createElement("th",null,"Century"),r.a.createElement("th",null,"Children"))),r.a.createElement("tbody",{onClick:function(e){var t=e.target.parentNode;t.hasAttribute("clickedRow")?(t.removeAttribute("clickedRow"),t.classList.remove("person--select")):(t.setAttribute("clickedRow",!0),t.classList.add("person--select"),""!==o?(o.removeAttribute("clickedRow"),o.classList.remove("person--select"),o=t):o=t)}},b.map(function(e){return r.a.createElement(f,Object.assign({},e,{key:"key".concat(e.id+10)}))})))},g=n(11),v=n(2),C=(n(20),[]),P=[],y=[],N="",k=(new Date).getFullYear(),A=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",sex:"",born:"",died:"",mother:"",father:""},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name,l=n.state,o=l.born,s=l.died;("died"===r||"born"===r)&&a>k||("died"===r&&""!==o&&(N=a-o>150||a-o<0?"Age must be less than 150 and more than 0":""),"born"===r&&""!==s&&(N=s-a>150||s-a<0?"Age must be less than 150 and more than 0":""),n.setState(Object(v.a)({},r,a)))},n.handleSubmit=function(e){e.preventDefault();var t=n.props.people,a=n.state,r=a.born,l=a.died,o=Object(g.a)(a,["born","died"]);return l-r>150||l-r<0?(N="Age must be less than 150 and more than 0",!1):(t.push(Object(s.a)({},o,{born:+r,died:+l,id:t.length,age:l-r,children:[]})),n.setState({name:"",sex:"",born:"",died:"",mother:"",father:""}),!0)},n.formClose=function(){n.props.updateAppState({showNewPersonForm:!1})},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.sex,a=e.born,l=e.died,o=e.mother,s=e.father;return C=this.props.people.filter(function(e){return+e.born+13<=+a&&+e.died>+a}),P=C.filter(function(e){return"f"===e.sex}).map(function(e,t){return r.a.createElement("option",{key:"f".concat(t+10)},e.name)}),y=C.filter(function(e){return"m"===e.sex}).map(function(e,t){return r.a.createElement("option",{key:"m".concat(t+10)},e.name)}),r.a.createElement("form",{name:"newPerson",className:"new-person-form",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"name",value:t,placeholder:"Name",className:"new-person-form__name",onChange:this.handleChange,required:!0}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"newPerson-male"},r.a.createElement("input",{id:"newPerson-male",type:"radio",name:"sex",value:"m",checked:"m"===n,onChange:this.handleChange,required:!0}),"male"),r.a.createElement("label",{htmlFor:"newPerson-female"},r.a.createElement("input",{id:"newPerson-female",type:"radio",name:"sex",value:"f",checked:"f"===n,onChange:this.handleChange}),"female"),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"newPerson-born"},"Born:",r.a.createElement("input",{id:"newPerson-born",type:"number",min:"1500",name:"born",value:a,placeholder:"Year of born",className:"new-person-form__life-dates",onChange:this.handleChange,required:!0})),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"newPerson-died"},"Died:",r.a.createElement("input",{id:"newPerson-died",type:"number",min:"1500",name:"died",value:l,placeholder:"Year of died",className:"new-person-form__life-dates",onChange:this.handleChange,required:!0})),r.a.createElement("br",null),r.a.createElement("span",{className:"error-message"},N),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"newPerson-mother",className:"new-person-form__parents"},r.a.createElement("span",null,"Mother:"),r.a.createElement("select",{id:"newPerson-mother",name:"mother",value:o,onChange:this.handleChange},r.a.createElement("option",null," "),P)),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"newPerson-father",className:"new-person-form__parents"},r.a.createElement("span",null,"Father:"),r.a.createElement("select",{id:"newPerson-father",name:"father",value:s,onChange:this.handleChange},r.a.createElement("option",null," "),y)),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"new-person-form__button"},"Add new person"),r.a.createElement("button",{type:"button",onClick:this.formClose,className:"new-person-form__button"},"Close"))}}]),t}(r.a.Component);A.defaultProps={people:[]};var S=A,j=function(e,t){return e.filter(function(e){return e.mother===t.name||e.father===t.name})},O=function(e,t){return!!e&&(t.split(" ").length>1?e.toLowerCase().startsWith(t.toLowerCase()):e.toLowerCase().split(" ").some(function(e){return e.startsWith(t.toLowerCase())}))},x=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={listOfPeople:[],filtredPeople:[],sortStatus:1,showNewPersonForm:!1},n.filterByNameAndParents=function(e){var t=e.target.value;n.setState(function(e){return{filtredPeople:e.listOfPeople.filter(function(e){var n=O(e.name,t),a=O(e.mother,t),r=O(e.father,t);return n||a||r})}})},n.updateAppState=function(e){n.setState(e)},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("./api/people.json").then(function(e){return e.json()}).then(function(t){var n=t.map(function(e,n){return Object(s.a)({},e,{id:n,age:e.died-e.born,children:j(t,e)})});e.setState({listOfPeople:n,filtredPeople:n})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.filtredPeople,a=t.sortStatus,l=t.listOfPeople;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"People table",n.length),r.a.createElement("input",{type:"text",placeholder:"Enter the name for search",onInput:this.filterByNameAndParents}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"button",onClick:function(){return e.setState({showNewPersonForm:!0})}},"Add new person"),this.state.showNewPersonForm&&r.a.createElement(S,{updateAppState:this.updateAppState,people:l}),r.a.createElement(w,{people:n,sortStatus:a,updateAppState:this.updateAppState}))}}]),t}(r.a.Component);o.a.render(r.a.createElement(x,{test:123}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.bf881a59.chunk.js.map