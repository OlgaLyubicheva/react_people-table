(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){e.exports=n(22)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(10),o=n.n(l),s=n(3),c=n(2),i=n(1),m=n(4),u=n(5),p=n(7),h=n(6),d=n(8),f=(n(18),function(e){var t=e.id,n=e.name,a=e.sex,l=e.born,o=e.died,s=e.age,c=e.father,i=e.mother,m=e.children,u=Math.ceil(o/100),p=m.map(function(e){return e.name}),h={},d=["person","person--lived-in-".concat(u)];return"f"===a&&(d.push("person--female"),0!==p.length&&d.push(" person--mother")),"m"===a&&(d.push("person--male"),0!==p.length&&d.push(" person--father")),s>65&&d.push("person--lived-more-65y"),l<1650&&(h.textDecoration="line-through"),o>1800&&(h.fontWeight="bold"),r.a.createElement("tr",{className:d.join(" ")},r.a.createElement("td",null,t+1),r.a.createElement("td",{style:h},n),r.a.createElement("td",null,a),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,s),r.a.createElement("td",null,i),r.a.createElement("td",null,c),r.a.createElement("td",null,u),r.a.createElement("td",null,p.join(", ")))});f.defaultProps={sex:"",father:"",mother:"",children:[]};var b=f,E=(n(19),[]),w="id",g=function(e){var t=e.people,n=e.sortStatus,a=e.updateAppState;E=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===e.length)return[];switch(typeof e[0][t]){case"number":case"boolean":n=function(e,n){return a*(e[t]-n[t])};break;case"string":n=function(e,n){return a*e[t].localeCompare(n[t])};break;default:n=function(e,t){return 0}}return Object(i.a)(e).sort(n)}(t,w,n);var l=function(e){w=e.target.textContent.toLowerCase(),a({sortStatus:-n})},o="";return r.a.createElement("table",{className:"peopleTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:l,className:"cursorPointer"},"Id"),r.a.createElement("th",{onClick:l,className:"cursorPointer"},"Name"),r.a.createElement("th",null,"Sex"),r.a.createElement("th",{onClick:l,className:"cursorPointer"},"Born"),r.a.createElement("th",{onClick:l,className:"cursorPointer"},"Died"),r.a.createElement("th",{onClick:l,className:"cursorPointer"},"Age"),r.a.createElement("th",null,"Mother"),r.a.createElement("th",null,"Father"),r.a.createElement("th",null,"Century"),r.a.createElement("th",null,"Children"))),r.a.createElement("tbody",{onClick:function(e){var t=e.target.parentNode;t.hasAttribute("clickedRow")?(t.removeAttribute("clickedRow"),t.classList.remove("person--select")):(t.setAttribute("clickedRow",!0),t.classList.add("person--select"),""!==o?(o.removeAttribute("clickedRow"),o.classList.remove("person--select"),o=t):o=t)}},E.map(function(e){return r.a.createElement(b,Object.assign({},e,{key:"key".concat(e.id+10)}))})))},v=n(11),C=(n(20),[]),P=[],N=[],y="",O=(new Date).getFullYear(),j=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",sex:"",born:"",died:"",mother:"",father:""},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name,l=n.state,o=l.born,s=l.died;("died"===r||"born"===r)&&a>O||("died"===r&&""!==o&&(y=a-o>150||a-o<0?"Age must be less than 150 and more than 0":""),"born"===r&&""!==s&&(y=s-a>150||s-a<0?"Age must be less than 150 and more than 0":""),n.setState(Object(c.a)({},r,a)))},n.handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.people,r=t.updateAppState,l=n.state,o=l.born,c=l.died,m=Object(v.a)(l,["born","died"]),u=Object(i.a)(a);c-o>150||c-o<0?y="Age must be less than 150 and more than 0":(u.push(Object(s.a)({},m,{born:+o,died:+c,id:a.length,age:c-o,children:[]})),n.setState({name:"",sex:"",born:"",died:"",mother:"",father:""}),r({listOfPeople:Object(i.a)(u),filtredPeople:Object(i.a)(u),filterInput:""}))},n.formClose=function(){n.props.updateAppState({showNewPersonForm:!1})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.sex,a=e.born,l=e.died,o=e.mother,s=e.father;return C=this.props.people.filter(function(e){return+e.born+13<=+a&&+e.died>+a}),P=C.filter(function(e){return"f"===e.sex}).map(function(e,t){return r.a.createElement("option",{key:"f".concat(t+10)},e.name)}),N=C.filter(function(e){return"m"===e.sex}).map(function(e,t){return r.a.createElement("option",{key:"m".concat(t+10)},e.name)}),r.a.createElement("form",{name:"newPerson",className:"new-person-form",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"name",value:t,placeholder:"Name",className:"new-person-form__name",onChange:this.handleChange,required:!0}),r.a.createElement("div",{className:"new-person-form__sex"},r.a.createElement("label",{htmlFor:"newPerson-male"},r.a.createElement("input",{id:"newPerson-male",type:"radio",name:"sex",value:"m",checked:"m"===n,onChange:this.handleChange,required:!0}),"male"),r.a.createElement("label",{htmlFor:"newPerson-female"},r.a.createElement("input",{id:"newPerson-female",type:"radio",name:"sex",value:"f",checked:"f"===n,onChange:this.handleChange}),"female")),r.a.createElement("label",{htmlFor:"newPerson-born"},"Born:",r.a.createElement("input",{id:"newPerson-born",type:"number",min:"1500",name:"born",value:a,placeholder:"Year of born",className:"new-person-form__life-dates",onChange:this.handleChange,required:!0})),r.a.createElement("label",{htmlFor:"newPerson-died"},"Died:",r.a.createElement("input",{id:"newPerson-died",type:"number",min:"1500",name:"died",value:l,placeholder:"Year of died",className:"new-person-form__life-dates",onChange:this.handleChange,required:!0})),r.a.createElement("span",{className:"error-message"},y),r.a.createElement("label",{htmlFor:"newPerson-mother",className:"new-person-form__parents"},r.a.createElement("span",null,"Mother:"),r.a.createElement("select",{id:"newPerson-mother",name:"mother",value:o,onChange:this.handleChange},r.a.createElement("option",null," "),P)),r.a.createElement("label",{htmlFor:"newPerson-father",className:"new-person-form__parents"},r.a.createElement("span",null,"Father:"),r.a.createElement("select",{id:"newPerson-father",name:"father",value:s,onChange:this.handleChange},r.a.createElement("option",null," "),N)),r.a.createElement("button",{type:"submit",className:"new-person-form__button"},"Add new person"),r.a.createElement("button",{type:"button",onClick:this.formClose,className:"new-person-form__button"},"Close"))}}]),t}(r.a.Component);j.defaultProps={people:[]};var k=j,S=(n(21),function(e,t){return e.filter(function(e){return e.mother===t.name||e.father===t.name})}),A=function(e,t){return!!e&&(t.split(" ").length>1?e.toLowerCase().startsWith(t.toLowerCase()):e.toLowerCase().split(" ").some(function(e){return e.startsWith(t.toLowerCase())}))},_=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={listOfPeople:[],filtredPeople:[],filterInput:"",sortStatus:1,showNewPersonForm:!1},n.filterByNameAndParents=function(e){var t=e.target,a=t.value,r=t.name,l=Object(i.a)(n.state.listOfPeople);n.setState(Object(c.a)({},r,a)),""!==a?n.setState({filtredPeople:l.filter(function(e){var t=A(e.name,a),n=A(e.mother,a),r=A(e.father,a);return t||n||r})}):n.setState({filtredPeople:Object(i.a)(l)})},n.updateAppState=function(e){n.setState(e)},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("./api/people.json").then(function(e){return e.json()}).then(function(t){var n=t.map(function(e,n){return Object(s.a)({},e,{id:n,age:e.died-e.born,children:S(t,e)})});e.setState({listOfPeople:n,filtredPeople:n})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.filtredPeople,a=t.sortStatus,l=t.listOfPeople,o=t.filterInput;return r.a.createElement("div",{className:"app"},r.a.createElement("h1",null,"People table",n.length),r.a.createElement("input",{type:"text",className:"app__filter",placeholder:"Enter the name for search",name:"filterInput",value:o,onChange:this.filterByNameAndParents}),r.a.createElement("button",{type:"button",className:"app__add-new-person",onClick:function(){return e.setState({showNewPersonForm:!0})}},"Add new person"),this.state.showNewPersonForm&&r.a.createElement(k,{updateAppState:this.updateAppState,people:l}),r.a.createElement(g,{people:n,sortStatus:a,updateAppState:this.updateAppState}))}}]),t}(r.a.Component);o.a.render(r.a.createElement(_,{test:123}),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.2e8e8422.chunk.js.map