(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(2),o=n.n(l),c=n(8),u=n(3),i=n(4),s=n(7),m=n(5),p=n(9),f=n(6),d=(n(16),function(e){var t=e.id,n=e.name,a=e.sex,l=e.born,o=e.died,c=e.age,u=e.father,i=e.mother,s=e.children,m="",p="",f="",d=Math.ceil(o/100),h=s.map(function(e){return e.name});return"f"===a&&(m="person--female",0!==h.length&&(m+=" person--mother")),"m"===a&&(m="person--male",0!==h.length&&(m+=" person--father")),l<1650&&(p="person--born-before-1650"),o>1800&&(p="person--died-after-1800"),c>65&&(f="person--lived-more-65y"),r.a.createElement("tr",{className:"person ".concat(m," ").concat(f," person--lived-in-").concat(d)},r.a.createElement("td",null,t+1),r.a.createElement("td",{className:p},n),r.a.createElement("td",null,a),r.a.createElement("td",null,l),r.a.createElement("td",null,o),r.a.createElement("td",null,c),r.a.createElement("td",null,i),r.a.createElement("td",null,u),r.a.createElement("td",null,d),r.a.createElement("td",null,h.join(", ")))});d.defaultProps={sex:"",father:"",mother:"",children:[]};var h=d,E=(n(17),[]),b="id",v=function(e){var t=e.people,n=e.sortStatus,a=e.updateAppState;E=function(e,t,n){if(0===e.length)return[];var a;switch(typeof e[0][n]){case"number":a=function(e,a){return t*(e[n]-a[n])};break;case"string":a=function(e,a){return t*e[n].localeCompare(a[n])};break;default:a=0}return Object(f.a)(e).sort(a)}(t,n,b);var l=function(e){b=e.target.textContent.toLowerCase(),a({sortStatus:-n})},o={cursor:"pointer"};return r.a.createElement("table",{className:"peopleTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:l,style:o},"Id"),r.a.createElement("th",{onClick:l,style:o},"Name"),r.a.createElement("th",null,"Sex"),r.a.createElement("th",{onClick:l,style:o},"Born"),r.a.createElement("th",{onClick:l,style:o},"Died"),r.a.createElement("th",{onClick:l,style:o},"Age"),r.a.createElement("th",null,"Mother"),r.a.createElement("th",null,"Father"),r.a.createElement("th",null,"Century"),r.a.createElement("th",null,"Children"))),r.a.createElement("tbody",null,E.map(function(e){return r.a.createElement(h,Object.assign({},e,{key:"key".concat(e.id+10)}))})))},y=function(e,t){return e.filter(function(e){return e.mother===t.name||e.father===t.name})},g=function(e,t){return!!e&&(t.split(" ").length>1?e.toLowerCase().startsWith(t.toLowerCase()):e.toLowerCase().split(" ").some(function(e){return e.startsWith(t.toLowerCase())}))},C=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={listOfPeople:[],filtredPeople:[],sortStatus:1},n.filterByNameAndParents=function(e){var t=e.target.value;n.setState(function(e){return{filtredPeople:e.listOfPeople.filter(function(e){var n=g(e.name,t),a=g(e.mother,t),r=g(e.father,t);return n||a||r})}})},n.updateAppState=function(e){n.setState(e)},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("./api/people.json").then(function(e){return e.json()}).then(function(t){var n=t.map(function(e,n){return Object(c.a)({},e,{id:n,age:e.died-e.born,children:y(t,e)})});e.setState({listOfPeople:n,filtredPeople:n})})}},{key:"render",value:function(){var e=this.state,t=e.filtredPeople,n=e.sortStatus;return console.log("render"," filtredPeople:",t),r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"People table ",t.length," "),r.a.createElement("input",{type:"text",placeholder:"filter name, mother and father",onInput:this.filterByNameAndParents}),r.a.createElement(v,{people:t,sortStatus:n,updateAppState:this.updateAppState}))}}]),t}(r.a.Component);o.a.render(r.a.createElement(C,{test:123}),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.7a6af0de.chunk.js.map