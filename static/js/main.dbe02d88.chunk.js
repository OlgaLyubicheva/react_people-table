(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){e.exports=n(22)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),l=n.n(o),s=n(8),c=n(2),i=n(1),m=n(3),u=n(4),h=n(6),d=n(5),p=n(7),f=(n(18),function(e){var t=e.person,n=e.onClickRow,a=e.selectPerson,o=t.id,l=t.name,s=t.sex,c=t.born,i=t.died,m=t.age,u=t.father,h=t.mother,d=t.children,p=Math.ceil(i/100),f=d.map(function(e){return e.name}),b={},E=["person","person--lived-in-".concat(p)];return"f"===s&&(E.push("person--female"),0!==f.length&&E.push(" person--mother")),"m"===s&&(E.push("person--male"),0!==f.length&&E.push(" person--father")),m>65&&E.push("person--lived-more-65y"),o===a&&E.push("person--select"),c<1650&&(b.textDecoration="line-through"),i>1800&&(b.fontWeight="bold"),r.a.createElement("tr",{className:E.join(" "),onClick:function(){return n(o)}},r.a.createElement("td",null,o+1),r.a.createElement("td",{style:b},l),r.a.createElement("td",null,s),r.a.createElement("td",null,c),r.a.createElement("td",null,i),r.a.createElement("td",null,m),r.a.createElement("td",null,h),r.a.createElement("td",null,u),r.a.createElement("td",null,p),r.a.createElement("td",null,f.join(", ")))});f.defaultProps={selectPerson:""};var b=f,E=(n(19),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={selectPerson:"",fieldOfSort:"id"},n.getFildOfSort=function(e){n.setState({fieldOfSort:e.target.textContent.toLowerCase()}),n.props.onSort()},n.handleClickRow=function(e){n.setState({selectPerson:e})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.selectPerson,a=t.fieldOfSort,o=this.props,l=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===e.length)return[];switch(typeof e[0][t]){case"number":case"boolean":n=function(e,n){return a*(e[t]-n[t])};break;case"string":n=function(e,n){return a*e[t].localeCompare(n[t])};break;default:n=function(e,t){return 0}}return Object(i.a)(e).sort(n)}(o.people,a,o.sortStatus);return r.a.createElement("table",{className:"peopleTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:this.getFildOfSort,className:"cursorPointer"},"Id"),r.a.createElement("th",{onClick:this.getFildOfSort,className:"cursorPointer"},"Name"),r.a.createElement("th",null,"Sex"),r.a.createElement("th",{onClick:this.getFildOfSort,className:"cursorPointer"},"Born"),r.a.createElement("th",{onClick:this.getFildOfSort,className:"cursorPointer"},"Died"),r.a.createElement("th",{onClick:this.getFildOfSort,className:"cursorPointer"},"Age"),r.a.createElement("th",null,"Mother"),r.a.createElement("th",null,"Father"),r.a.createElement("th",null,"Century"),r.a.createElement("th",null,"Children"))),r.a.createElement("tbody",null,l.map(function(t){return r.a.createElement(b,{person:t,onClickRow:e.handleClickRow,selectPerson:n,key:"key".concat(t.id+10)})})))}}]),t}(r.a.Component)),w=n(11),g=(n(20),[]),P=[],C=[],v="",O=(new Date).getFullYear(),S=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",sex:"",born:"",died:"",mother:"",father:"",showNewPersonForm:!1},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name,o=n.state,l=o.born,s=o.died;("died"===r||"born"===r)&&a>O||("died"===r&&""!==l&&(v=a-l>150||a-l<0?"Age must be less than 150 and more than 0":""),"born"===r&&""!==s&&(v=s-a>150||s-a<0?"Age must be less than 150 and more than 0":""),n.setState(Object(c.a)({},r,a)))},n.handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.people,r=t.onSubmitForm,o=n.state,l=o.born,c=o.died,i=(o.showNewPersonForm,Object(w.a)(o,["born","died","showNewPersonForm"]));if(c-l>150||c-l<0)v="Age must be less than 150 and more than 0";else{var m=Object(s.a)({},i,{born:+l,died:+c,id:a.length,age:c-l,children:[]});n.setState({name:"",sex:"",born:"",died:"",mother:"",father:""}),r(m)}},n.formClose=function(){n.setState({showNewPersonForm:!1})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.sex,o=t.born,l=t.died,s=t.mother,c=t.father,i=t.showNewPersonForm;return g=this.props.people.filter(function(e){return+e.born+13<=+o&&+e.died>+o}),P=g.filter(function(e){return"f"===e.sex}).map(function(e,t){return r.a.createElement("option",{key:"f".concat(t+10)},e.name)}),C=g.filter(function(e){return"m"===e.sex}).map(function(e,t){return r.a.createElement("option",{key:"m".concat(t+10)},e.name)}),r.a.createElement("div",null,i?r.a.createElement("form",{name:"newPerson",className:"new-person-form",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"name",value:n,placeholder:"Name",className:"new-person-form__name",onChange:this.handleChange,required:!0}),r.a.createElement("div",{className:"new-person-form__sex"},r.a.createElement("label",{htmlFor:"newPerson-male"},r.a.createElement("input",{id:"newPerson-male",type:"radio",name:"sex",value:"m",checked:"m"===a,onChange:this.handleChange,required:!0}),"male"),r.a.createElement("label",{htmlFor:"newPerson-female"},r.a.createElement("input",{id:"newPerson-female",type:"radio",name:"sex",value:"f",checked:"f"===a,onChange:this.handleChange}),"female")),r.a.createElement("label",{htmlFor:"newPerson-born"},"Born:",r.a.createElement("input",{id:"newPerson-born",type:"number",min:"1500",name:"born",value:o,placeholder:"Year of born",className:"new-person-form__life-dates",onChange:this.handleChange,required:!0})),r.a.createElement("label",{htmlFor:"newPerson-died"},"Died:",r.a.createElement("input",{id:"newPerson-died",type:"number",min:"1500",name:"died",value:l,placeholder:"Year of died",className:"new-person-form__life-dates",onChange:this.handleChange,required:!0})),r.a.createElement("span",{className:"error-message"},v),r.a.createElement("label",{htmlFor:"newPerson-mother",className:"new-person-form__parents"},r.a.createElement("span",null,"Mother:"),r.a.createElement("select",{id:"newPerson-mother",name:"mother",value:s,onChange:this.handleChange},r.a.createElement("option",null," "),P)),r.a.createElement("label",{htmlFor:"newPerson-father",className:"new-person-form__parents"},r.a.createElement("span",null,"Father:"),r.a.createElement("select",{id:"newPerson-father",name:"father",value:c,onChange:this.handleChange},r.a.createElement("option",null," "),C)),r.a.createElement("button",{type:"submit",className:"new-person-form__button"},"Add new person"),r.a.createElement("button",{type:"button",onClick:this.formClose,className:"new-person-form__button"},"Close")):r.a.createElement("button",{type:"button",className:"app__add-new-person",onClick:function(){return e.setState({showNewPersonForm:!0})}},"Add new person"))}}]),t}(r.a.Component);S.defaultProps={people:[]};var y=S,N=(n(21),function(e,t){return e.filter(function(e){return e.mother===t.name||e.father===t.name})}),j=function(e,t){return!!e&&(t.split(" ").length>1?e.toLowerCase().startsWith(t.toLowerCase()):e.toLowerCase().split(" ").some(function(e){return e.startsWith(t.toLowerCase())}))},k=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={listOfPeople:[],filtredPeople:[],filterInput:"",sortStatus:1},n.filterByNameAndParents=function(e){var t=e.target,a=t.value,r=t.name,o=Object(i.a)(n.state.listOfPeople);n.setState(Object(c.a)({},r,a)),""!==a?n.setState({filtredPeople:o.filter(function(e){var t=j(e.name,a),n=j(e.mother,a),r=j(e.father,a);return t||n||r})}):n.setState({filtredPeople:Object(i.a)(o)})},n.updateSortStatus=function(){n.setState(function(e){return{sortStatus:-e.sortStatus}})},n.handleSubmitForm=function(e){n.setState(function(t){return{listOfPeople:[].concat(Object(i.a)(t.listOfPeople),[e]),filtredPeople:[].concat(Object(i.a)(t.listOfPeople),[e]),filterInput:""}})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("./api/people.json").then(function(e){return e.json()}).then(function(t){var n=t.map(function(e,n){return Object(s.a)({},e,{id:n,age:e.died-e.born,children:N(t,e)})});e.setState({listOfPeople:n,filtredPeople:n})})}},{key:"render",value:function(){var e=this.state,t=e.filtredPeople,n=e.sortStatus,a=e.listOfPeople,o=e.filterInput;return r.a.createElement("div",{className:"app"},r.a.createElement("h1",null,"People table",t.length),r.a.createElement("input",{type:"text",className:"app__filter",placeholder:"Enter the name for search",name:"filterInput",value:o,onChange:this.filterByNameAndParents}),r.a.createElement(y,{people:a,onSubmitForm:this.handleSubmitForm}),r.a.createElement(E,{people:t,sortStatus:n,onSort:this.updateSortStatus}))}}]),t}(r.a.Component);l.a.render(r.a.createElement(k,{test:123}),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.dbe02d88.chunk.js.map